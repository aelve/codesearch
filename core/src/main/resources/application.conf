db {
  name = "sourcesdb"
  name = ${?DATABASE_NAME}
  user = "postgres"
  user = ${?DATABASE_USER}
  password = "postgres"
  password = ${?DATABASE_PASSWORD}
  host = "localhost"
  host = ${?DATABASE_HOST}
  port = 5432
  port = ${?DATABASE_PORT_NUMBER}

  dataSourceClass = "slick.jdbc.DatabaseUrlDataSource"
  properties = {
    driver = "org.postgresql.Driver"
    url = "postgres://"${db.user}":"${db.password}"@"${db.host}":"${db.port}"/"${db.name}
  }
}

languagesConfig {
  haskell {
  	repository = "hackage"
    repoIndexUrl = "http://hackage.haskell.org/packages/index.tar.gz"
    packageUrl = "https://hackage.haskell.org/package/%1$s-%2$s/%1$s-%2$s.tar.gz"
    repoArchivePath = "./data/meta/haskell/index.tar.gz"
    repoPath = "./data/meta/haskell/"
    concurrentTasksCount = 30
  }
  rust {
  	repository = "crates"
    repoIndexUrl = "https://github.com/rust-lang/crates.io-index/archive/master.zip"
    packageUrl = "https://crates.io/api/v1/crates/%s/%s/download"
    repoArchivePath = "./data/meta/rust/archive.zip"
    repoPath = "./data/meta/rust/"
    concurrentTasksCount = 30
    ignoreFiles = ["test-max-version-example-crate", "version-length-checking-is-overrated", "config.json", "archive.zip", ".git"]
  }
  ruby {
  	repository = "gem"
    repoIndexUrl = "http://rubygems.org/latest_specs.4.8.gz"
    packageUrl = "https://rubygems.org/downloads/%s-%s.gem"
    repoArchivePath = "./data/meta/ruby/ruby_index.gz"
    repoJsonPath = "./data/meta/ruby/ruby_index.json"
    scriptPath = "./scripts/update_index.rb"
    concurrentTasksCount = 30
  }
  javascript {
  	repository = "npm"
    repoIndexUrl = "https://replicate.npmjs.com/_all_docs?include_docs=true"
    packageUrl = "https://registry.npmjs.org/%1$s/-/%1$s-%2$s.tgz"
    concurrentTasksCount = 30
  }
}

snippetConfig {
  pageSize = 30
  linesBefore = 3
  linesAfter = 5
}

metrics {
  enableMatomoMetrics = false
}

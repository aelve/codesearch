@import codesearch.core.search.Searcher.Package
@import codesearch.core.util.Helper
@import play.twirl.api._

@(sourceCode: List[String], pack: Package, relativePath: String, lang: String)

@headExtra = {
    <meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval' http://www.google.com">

    <script src="@routes.Assets.versioned("prismjs.js")"></script>
    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("css/prismjs.css")">

    <link rel="stylesheet" type="text/css" href="@routes.Assets.versioned("css/search.css")">
}

@wrapper("Codesearch", headExtra) {
    <h5 class="display-7" style="margin-bottom: 0em; margin-top: 1em;"><a href=@pack.packageLink>@pack.name</a></h5>
    <a href="#">@relativePath</a>
    <br/>
    <pre data-start="1"><code class="@(s"language-${Helper.langByLink(relativePath, lang)} line-numbers")">@HtmlFormat.escape(sourceCode.mkString("\n"))</code>
    </pre>
}

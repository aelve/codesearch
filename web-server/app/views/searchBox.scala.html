@import scala.math
@(actSearch: String, query: String, insensitive: Boolean, precise: Boolean, sources: Boolean, page: Int = 0, totalMatches: Int, callURI: String = "#")

<section class="container-fluid">
    <div class="col-lg-6 mx-auto p-3 h7 justify-content-center">
        <form action=@actSearch method="get">
            <div class="input-group">
                <input type="text" class="form-control" name="query" value="@query">
                <span class="input-group-btn">
                    <input class="btn btn-secondary" type="submit" value="Go!">
                </span>
            </div>
            <div class="form-check form-check-inline">
                <input type="checkbox" class="form-check-input" name="insensitive" id="insensitive-search" @(if (insensitive) "checked")>
                <label class="form-check-label" for="insensitive-search">Case-insensitive search</label>
            </div>
            <div class="form-check form-check-inline">
                <input type="checkbox" class="form-check-input" name="precise" id="precise-match" @(if (precise) "checked")>
                <label class="form-check-label" for="precise-match">Precise match</label>
            </div>
            <div class="form-check form-check-inline">
                <input type="checkbox" class="form-check-input" name="sources" id="sources-only" @(if (sources) "checked")>
                <label class="form-check-label" for="sources-only">Sources only</label>
            </div>
        </form>
    </div>
    @{if (totalMatches > 1000) {
        <span class="text-secondary">total matches: more than 1000</span>
    } else {
        <span class="text-secondary">total matches: {totalMatches}</span>
    }}

    @{if (page != 0) {
        <nav aria-label="Page navigation">
            <ul class="pagination">
                <li class={if (page == 1) "page-item disabled" else "page-item"}>
                    <a class="page-link" href={if (page == 1) "#" else callURI ++ s"&page=${math.max(page - 1, 1)}"} aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <li class="page-item"><a class="page-link" href="#">{page}</a></li>
                <li class={if (page * 100 + 1 <= math.min(1000, totalMatches)) "page-item" else "page-item disabled"}>
                    <a class="page-link" href={if (page * 100 + 1 <= math.min(1000, totalMatches)) callURI ++ s"&page=${math.min(page + 1, 10)}" else "#"} aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
            </ul>
        </nav>
    } }

</section>
